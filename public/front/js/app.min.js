
$('.customers-testimonials').owlCarousel({
    loop: true,
    center: true,
    nav:false,
    items: 1,
    dots:false,
    margin: 10,
    autoPlay: true,
    autoPlayTimeout: 1000,
    smartSpeed: 500,
    // responsive: {
    //     0: {
    //         items: 1
    //     },
    //     768:
    //         {
    //             items:2
    //         },
    //     1440:
    //         {
    //             items:3
    //         }
    //
    // }
});

///



//deal of thE DAY
$('.dealofday-carousel').owlCarousel({
    autoplay:true,
    autoplayTimeout:3000,
    autoplayHoverPause:true,
    lazyLoad:true,
    nav:true,
    loop:false,
    margin:15,
    navRewind:false,
    smartSpeed:1000,
    navText : ["<i class='fa fa-chevron-left fa-1x'></i>","<i class='fa fa-chevron-right fa-1x'></i>"],
    dots:false,
    responsive:{
        0:{
            items:1
        },
        300:{
            items:2
        },
        425:{
            items:2
        },
        // 557:{
        //     items:3
        // },
        768:{
            items:3
        },
        830:{
            items:4
        },
        1024:{
            items:5
        },
        1328:{
            items:6
        }

    }
});
$('.categories, .product-carousel').owlCarousel({
    autoPlay:3000,
    lazyLoad:true,
    nav:true,
    loop:false,
    margin:15,
    navRewind:false,
    smartSpeed:1000,
    navText : ["<i class='fa fa-chevron-left fa-1x'></i>","<i class='fa fa-chevron-right fa-1x'></i>"],
    dots:false,
    responsive:{
        0:{
            items:1
        },
        300:{
            items:2
        },
        425:{
            items:2
        },
        // 557:{
        //     items:3
        // },
        768:{
            items:3
        },
        830:{
            items:4
        },
        1024:{
            items:5
        },
        1328:{
            items:6
        }

    }
});

$('.mall-carousel').owlCarousel({
    autoplay:true,
    autoplayTimeout:3000,
    autoplayHoverPause:true,
    lazyLoad:true,
    nav:true,
    loop:true,
    margin:15,
    navRewind:true,
    smartSpeed:1000,
    navText : ["<i class='fa fa-chevron-left fa-1x'></i>","<i class='fa fa-chevron-right fa-1x'></i>"],
    dots:false,
    responsive:{
        0:{
            items:1
        },
        300:{
            items:2
        },
        425:{
            items:2
        },
        // 557:{
        //     items:3
        // },
        768:{
            items:4
        },
        830:{
            items:5
        },
        1024:{
            items:6
        },
        1328:{
            items:7
        }

    }
});

//jquery for the hide and show the main menu

// $(function() {
//     //caches a jQuery object containing the header element
//     var header = $(".main_dropdowns");
//     var header1 = $(".service_dropdowns");
//     var currPath = window.location.pathname; // Gets the current pathname ( /_display/ )
//     var toggle_bottom =  $('#bottom__nav');

//     if(currPath == ''){ // Checks if the pathname equals the webpage you want the sidebar to be displayed on
//         header.show(); // Set the sidebar to visibility: visible and display: block
//         $(window).scroll(function() {
//             var scroll = $(window).scrollTop();

//             if (scroll >= 450 ) {
//                 header.hide();
//                 header1.hide();
//                 toggle_bottom.fadeIn(500);
//                 header.addClass('from_top');
//                 header1.addClass('from_top');
//             } else {
//                 header.show();
//                 header1.show();
//                 toggle_bottom.fadeOut(500);
//                 header.removeClass('from_top');
//             }
//         });
//     }else {
//         header.hide();
//         header1.hide();
//         toggle_bottom.show();
//         header.addClass('from_top');
//     }


//     $(this).scrollTop(0);

    // header.hide();
    // $('#toggle_dd').click(function(){
    //     $(".main_dropdown").toggle();
    //     $(".service_dropdown").hide();
    //     $(this).toggleClass('active');
    //     $("#toggle_dd-1").removeClass('active');
    // });

    // $('#toggle_dd-1').click(function(){
    //      $(".service_dropdown").toggle();
    //     $(this).toggleClass('active')
    //     $(".main_dropdown").hide();
    //     $("#toggle_dd").removeClass('active');
       
    // });

// });
// mobile screen search box script//
$('.search_toggler').click(function(){

    $('.hidden-search').fadeIn(500);

});
$('.close_search').click(function(){

    $('.hidden-search').fadeOut(300);

});

$(function(){
    var header = $(".main_dropdown");

});

// script for the show filter
$('#btn-filter').click(function() {
    $(".left--side").addClass("show_filter");
    $('.cat-overlay').show();
    $('html').addClass("overflow_xy");
    // $(".category-filter").append('<div class="overlay" id="click_overlay" style="opacity: .4;top:0"></div>');
});
$('.cat-overlay').click(function(){
    console.log('click');
    $(this).hide();
    $(".left--side").removeClass('show_filter');
    $('html').removeClass("overflow_xy");
});
$('.done-filter').click(function(){
    $(".left--side").removeClass('show_filter');
    $('.cat-overlay').hide();
    $('html').removeClass("overflow_xy");
});


//script for the check out page

//jQuery time
var current_fs, next_fs, previous_fs; //fieldsets
var left, opacity, scale; //fieldset properties which we will animate
var animating; //flag to prevent quick multi-click glitches

$(".next").click(function(){
    // if(animating) return false;
    // animating = true;
    // current_fs = $(this).parent().parent().parent().parent().parent();
    // next_fs = $(this).parent().parent().parent().parent().parent().next();
    current_fs = $(this).parents('fieldset');
    next_fs=$(this).parents('fieldset').next();

    //activate next step on progressbar using the index of next_fs
    $("#progressbar li").eq($("fieldset").index(next_fs)).addClass("actively");

    //show the next fieldset
    // next_fs.show();
    next_fs.delay(100).fadeIn(800);
    current_fs.hide();
    $(window).scrollTop(0);

});

$(".submit").click(function(){
    return false;
});

$('.terms-and-conditions-link').on('click',function () {
    $('.termscondition').fadeToggle();
});





// javascript for time laps
var second = 1000,
    minute = second * 60,
    hour = minute * 60,
    day = hour * 24;

var countDown = new Date('december 15, 2019 00:00:00').getTime(),
    x = setInterval(function() {

        var now = new Date().getTime(),
            distance = countDown - now;
        // console.log(distance,now);
        // document.getElementById('days').innerText = Math.floor(distance / (day));
        document.getElementById('hours').innerText = Math.floor((distance % (day)) / (hour));
        document.getElementById('minutes').innerText = Math.floor((distance % (hour)) / (minute));
        document.getElementById('seconds').innerText = Math.floor((distance % (minute)) / second);

    }, second);



$('.feature_brand_list ').owlCarousel({
    items:1,
    margin:10,
    pagination: false,
    autoplay: true,
    autoPlaySpeed: 5000,
    autoPlayTimeout: 5000,
    autoplayHoverPause: true,
    smartSpeed:1000,
    nav:false,
    lazyLoad:true,
    loop:false,
    navRewind:false,
    navText : ["<i class='fa fa-chevron-left fa-1x'></i>","<i class='fa fa-chevron-right fa-1x'></i>"],
    dots:true,
    responsive:{
        0:{
            items:1
        },
        320:{
            items:1
        },
        600:{
            items:2
        },
        1000:{
            items:3
        },
        1328:{
            items:4
        },
        1400:{
            items:4
        }
    }
});


$('.col-three ').owlCarousel({
    items:1,
    margin:10,
    pagination: false,
    smartSpeed:1000,
    nav:false,
    lazyLoad:true,
    loop:false,
    navRewind:false,
    dots:true,
    autoplay: true,
    autoPlaySpeed: 5000,
    autoPlayTimeout: 5000,
    autoplayHoverPause: true,
    responsive:{
        0:{
            items:1
        },
        320:{
            items:1
        },
        600:{
            items:2
        },
        1000:{
            items:3
        },
        1328:{
            items:3
        },
        1400:{
            items:3
        }
    }
});

//jQuery for hide and show the comments in review section
$(function() {
    $('article.reviews').slice(0,3).show();
    $('.show-more').on('click',function(){
        $('article:hidden').slice(0,3).slideDown();
        if($('article:hidden').length === 0){
            $('.show-more').fadeOut('slow');
        }
    });
});


//jquery for the price range slider
$( function() {
    $( "#slider-range" ).slider({
        range: true,
        min: 100,
        max: 5000,
        values: [ 100, 1000 ],
        slide: function( event, ui ) {
            $( "#amount" ).val( "Min : Rs" + ui.values[ 0 ] + " - Max : Rs" + ui.values[ 1 ] );
        }
    });
    $( "#amount" ).val( "Min : Rs" + $( "#slider-range" ).slider( "values", 0 ) +
        " - Max : Rs" + $( "#slider-range" ).slider( "values", 1 ) );
});

//jquer for the cart update

$(document).ready(function() {

    /* Set rates + misc */
    var taxRate = 0.15;
    var shippingRate = 15.00;
    var fadeTime = 300;


    /* Assign actions */
    $('.product-quantity input').change( function() {
        updateQuantity(this);
    });

    $('.product-removal button').click( function() {
        removeItem(this);
    });


    /* Recalculate cart */
    function recalculateCart()
    {
        var subtotal = 0;

        /* Sum up row totals */
        $('.product').each(function () {
            subtotal += parseFloat($(this).children('.product-line-price').text());
        });

        /* Calculate totals */
        var tax = subtotal * taxRate;
        var shipping = (subtotal > 0 ? shippingRate : 0);
        var total = subtotal + tax + shipping;

        /* Update totals display */
        $('.totals-value').fadeOut(fadeTime, function() {
            $('#cart-subtotal').html(subtotal.toFixed(2));
            $('#cart-tax').html(tax.toFixed(2));
            $('#cart-shipping').html(shipping.toFixed(2));
            $('#cart-total').html(total.toFixed(2));
            if(total == 0){
                $('.checkout').fadeOut(fadeTime);
            }else{
                $('.checkout').fadeIn(fadeTime);
            }
            $('.totals-value').fadeIn(fadeTime);
        });
    }


    /* Update quantity */
    function updateQuantity(quantityInput)
    {
        /* Calculate line price */
        var productRow = $(quantityInput).parent().parent();
        var price = parseFloat(productRow.children('.product-price').text());
        var quantity = $(quantityInput).val();
        var linePrice = price * quantity;

        /* Update line price display and recalc cart totals */
        productRow.children('.product-line-price').each(function () {
            $(this).fadeOut(fadeTime, function() {
                $(this).text(linePrice.toFixed(2));
                recalculateCart();
                $(this).fadeIn(fadeTime);
            });
        });
    }


    /* Remove item from cart */
    function removeItem(removeButton)
    {
        /* Remove row from DOM and recalc cart total */
        var productRow = $(removeButton).parent().parent();
        productRow.slideUp(fadeTime, function() {
            productRow.remove();
            recalculateCart();
        });
    }

});
// login form change
$(function() {

    $('#login-form-link').click(function(e) {
        $("#login-form, .form-title-in").delay(100).fadeIn(100);
        $("#register-form, .form-title-up").fadeOut(100);
        $('#register-form-link').removeClass('active');
        $(this).addClass('active');
        e.preventDefault();
    });
    $('#register-form-link').click(function(e) {
        $("#register-form , .form-title-up").delay(100).fadeIn(100);
        $("#login-form, .form-title-in").fadeOut(100);
        $('#login-form-link').removeClass('active');
        $(this).addClass('active');
        e.preventDefault();
    });

});
//jquery for mobile menu
jQuery('#menu').metisMenu().show();



//vendor registeration script

$('#vendor-continue').click(function(){
    $(this).hide();
    $('.detailForm').show(300);
    $('.vendorsignup').hide();
});
$('.returning-vendor').click(function(){
    $('.vendorsignup,#vendor-continue').show(300);
    $(".detailForm").hide();
});


$(function () {
    $('.option_yes_VAT').hide();

    //show it when the checkbox is clicked
    $('input[name="checkbox"]').on('click', function () {
        if ($(this).prop('checked')) {
            $('.option_yes_VAT').fadeIn();
        } else {
            $('.option_yes_VAT').hide();
        }
    });
});

///* calling script form Xzoom */(function ($) {
$('.forgotpassword').click(function(){
    $(this).hide();
    $('.forgotpassowrd-form').show(300);
    $(".login-form").hide();
});
$('.returning-customer').click(function(){
    $('.forgotpassword,.login-form').show(300);
    $(".forgotpassowrd-form").hide();
});


// service script
$('.nextservice').click(function(){
    $('#serviceone').hide();
    $('#servicetwo').show();
}) ;
$('.servicereturn').click(function(){
    $('#servicetwo').hide();
    $('#serviceone').show();
});


// (function($){
//     $('#thumbcarousel').carousel(0);
//     var $thumbItems = $('#thumbcarousel .item');
//     $('#carousel').on('slide.bs.carousel', function (event) {
//         var $slide = $(event.relatedTarget);
//         var thumbIndex = $slide.data('thumb');
//         var curThumbIndex = $thumbItems.index($('#thumbcarousel .item.active').get(0));
//         if (curThumbIndex>thumbIndex) {
//             $('#thumbcarousel').one('slid.bs.carousel', function (event) {
//                 $('#thumbcarousel').carousel(thumbIndex);
//             });
//             if (curThumbIndex === ($thumbItems.length-1)) {
//                 $('#thumbcarousel').carousel('next');
//             } else {
//                 $('#thumbcarousel').carousel(numThumbItems-1);
//             }
//         } else {
//             $('#thumbcarousel').carousel(thumbIndex);
//         }
//     });
// })(jQuery);
//
//
//
//

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZvbGRlci9vd2wtcGx1Z2luLmpzIiwiZm9sZGVyL3NjcmlwdC5qcyIsImZvbGRlci90aHVtYm5haWwuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDN0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDamdCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImFwcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuICAgICQoJy5jdXN0b21lcnMtdGVzdGltb25pYWxzJykub3dsQ2Fyb3VzZWwoe1xyXG4gICAgICAgIGxvb3A6IHRydWUsXHJcbiAgICAgICAgY2VudGVyOiB0cnVlLFxyXG4gICAgICAgIG5hdjpmYWxzZSxcclxuICAgICAgICBpdGVtczogMSxcclxuICAgICAgICBkb3RzOmZhbHNlLFxyXG4gICAgICAgIG1hcmdpbjogMTAsXHJcbiAgICAgICAgYXV0b1BsYXk6IHRydWUsXHJcbiAgICAgICAgYXV0b1BsYXlUaW1lb3V0OiAxMDAwLFxyXG4gICAgICAgIHNtYXJ0U3BlZWQ6IDUwMCxcclxuICAgICAgICAvLyByZXNwb25zaXZlOiB7XHJcbiAgICAgICAgLy8gICAgIDA6IHtcclxuICAgICAgICAvLyAgICAgICAgIGl0ZW1zOiAxXHJcbiAgICAgICAgLy8gICAgIH0sXHJcbiAgICAgICAgLy8gICAgIDc2ODpcclxuICAgICAgICAvLyAgICAgICAgIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICBpdGVtczoyXHJcbiAgICAgICAgLy8gICAgICAgICB9LFxyXG4gICAgICAgIC8vICAgICAxNDQwOlxyXG4gICAgICAgIC8vICAgICAgICAge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIGl0ZW1zOjNcclxuICAgICAgICAvLyAgICAgICAgIH1cclxuICAgICAgICAvL1xyXG4gICAgICAgIC8vIH1cclxuICAgIH0pO1xyXG5cclxuLy8vXHJcblxyXG4iLCJcclxuLy9kZWFsIG9mIHRoRSBEQVlcclxuJCgnLmRlYWxvZmRheS1jYXJvdXNlbCcpLm93bENhcm91c2VsKHtcclxuICAgIGF1dG9wbGF5OnRydWUsXHJcbiAgICBhdXRvcGxheVRpbWVvdXQ6MzAwMCxcclxuICAgIGF1dG9wbGF5SG92ZXJQYXVzZTp0cnVlLFxyXG4gICAgbGF6eUxvYWQ6dHJ1ZSxcclxuICAgIG5hdjp0cnVlLFxyXG4gICAgbG9vcDpmYWxzZSxcclxuICAgIG1hcmdpbjoxNSxcclxuICAgIG5hdlJld2luZDpmYWxzZSxcclxuICAgIHNtYXJ0U3BlZWQ6MTAwMCxcclxuICAgIG5hdlRleHQgOiBbXCI8aSBjbGFzcz0nZmEgZmEtY2hldnJvbi1sZWZ0IGZhLTF4Jz48L2k+XCIsXCI8aSBjbGFzcz0nZmEgZmEtY2hldnJvbi1yaWdodCBmYS0xeCc+PC9pPlwiXSxcclxuICAgIGRvdHM6ZmFsc2UsXHJcbiAgICByZXNwb25zaXZlOntcclxuICAgICAgICAwOntcclxuICAgICAgICAgICAgaXRlbXM6MVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgMzAwOntcclxuICAgICAgICAgICAgaXRlbXM6MlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgNDI1OntcclxuICAgICAgICAgICAgaXRlbXM6MlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLy8gNTU3OntcclxuICAgICAgICAvLyAgICAgaXRlbXM6M1xyXG4gICAgICAgIC8vIH0sXHJcbiAgICAgICAgNzY4OntcclxuICAgICAgICAgICAgaXRlbXM6M1xyXG4gICAgICAgIH0sXHJcbiAgICAgICA4MzA6e1xyXG4gICAgICAgICAgaXRlbXM6NFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgMTAyNDp7XHJcbiAgICAgICAgICAgIGl0ZW1zOjVcclxuICAgICAgICB9LFxyXG4gICAgICAgIDEzMjg6e1xyXG4gICAgICAgICAgICBpdGVtczo2XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxufSk7XHJcbiQoJy5jYXRlZ29yaWVzLCAucHJvZHVjdC1jYXJvdXNlbCcpLm93bENhcm91c2VsKHtcclxuICAgIGF1dG9QbGF5OjMwMDAsXHJcbiAgICBsYXp5TG9hZDp0cnVlLFxyXG4gICAgbmF2OnRydWUsXHJcbiAgICBsb29wOmZhbHNlLFxyXG4gICAgbWFyZ2luOjE1LFxyXG4gICAgbmF2UmV3aW5kOmZhbHNlLFxyXG4gICAgc21hcnRTcGVlZDoxMDAwLFxyXG4gICAgbmF2VGV4dCA6IFtcIjxpIGNsYXNzPSdmYSBmYS1jaGV2cm9uLWxlZnQgZmEtMXgnPjwvaT5cIixcIjxpIGNsYXNzPSdmYSBmYS1jaGV2cm9uLXJpZ2h0IGZhLTF4Jz48L2k+XCJdLFxyXG4gICAgZG90czpmYWxzZSxcclxuICAgIHJlc3BvbnNpdmU6e1xyXG4gICAgICAgIDA6e1xyXG4gICAgICAgICAgICBpdGVtczoxXHJcbiAgICAgICAgfSxcclxuICAgICAgICAzMDA6e1xyXG4gICAgICAgICAgICBpdGVtczoyXHJcbiAgICAgICAgfSxcclxuICAgICAgICA0MjU6e1xyXG4gICAgICAgICAgICBpdGVtczoyXHJcbiAgICAgICAgfSxcclxuICAgICAgICAvLyA1NTc6e1xyXG4gICAgICAgIC8vICAgICBpdGVtczozXHJcbiAgICAgICAgLy8gfSxcclxuICAgICAgICA3Njg6e1xyXG4gICAgICAgICAgICBpdGVtczozXHJcbiAgICAgICAgfSxcclxuICAgICAgICA4MzA6e1xyXG4gICAgICAgICAgICBpdGVtczo0XHJcbiAgICAgICAgfSxcclxuICAgICAgICAxMDI0OntcclxuICAgICAgICAgICAgaXRlbXM6NVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgMTMyODp7XHJcbiAgICAgICAgICAgIGl0ZW1zOjZcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG59KTtcclxuXHJcbiQoJy5tYWxsLWNhcm91c2VsJykub3dsQ2Fyb3VzZWwoe1xyXG4gICAgYXV0b3BsYXk6dHJ1ZSxcclxuICAgIGF1dG9wbGF5VGltZW91dDozMDAwLFxyXG4gICAgYXV0b3BsYXlIb3ZlclBhdXNlOnRydWUsXHJcbiAgICBsYXp5TG9hZDp0cnVlLFxyXG4gICAgbmF2OnRydWUsXHJcbiAgICBsb29wOnRydWUsXHJcbiAgICBtYXJnaW46MTUsXHJcbiAgICBuYXZSZXdpbmQ6ZmFsc2UsXHJcbiAgICBzbWFydFNwZWVkOjEwMDAsXHJcbiAgICBuYXZUZXh0IDogW1wiPGkgY2xhc3M9J2ZhIGZhLWNoZXZyb24tbGVmdCBmYS0xeCc+PC9pPlwiLFwiPGkgY2xhc3M9J2ZhIGZhLWNoZXZyb24tcmlnaHQgZmEtMXgnPjwvaT5cIl0sXHJcbiAgICBkb3RzOmZhbHNlLFxyXG4gICAgcmVzcG9uc2l2ZTp7XHJcbiAgICAgICAgMDp7XHJcbiAgICAgICAgICAgIGl0ZW1zOjFcclxuICAgICAgICB9LFxyXG4gICAgICAgIDMwMDp7XHJcbiAgICAgICAgICAgIGl0ZW1zOjJcclxuICAgICAgICB9LFxyXG4gICAgICAgIDQyNTp7XHJcbiAgICAgICAgICAgIGl0ZW1zOjJcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8vIDU1Nzp7XHJcbiAgICAgICAgLy8gICAgIGl0ZW1zOjNcclxuICAgICAgICAvLyB9LFxyXG4gICAgICAgIDc2ODp7XHJcbiAgICAgICAgICAgIGl0ZW1zOjRcclxuICAgICAgICB9LFxyXG4gICAgICAgIDgzMDp7XHJcbiAgICAgICAgICAgIGl0ZW1zOjVcclxuICAgICAgICB9LFxyXG4gICAgICAgIDEwMjQ6e1xyXG4gICAgICAgICAgICBpdGVtczo2XHJcbiAgICAgICAgfSxcclxuICAgICAgICAxMzI4OntcclxuICAgICAgICAgICAgaXRlbXM6N1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbn0pO1xyXG5cclxuLy9qcXVlcnkgZm9yIHRoZSBoaWRlIGFuZCBzaG93IHRoZSBtYWluIG1lbnVcclxuXHJcbiQoZnVuY3Rpb24oKSB7XHJcbiAgICAvL2NhY2hlcyBhIGpRdWVyeSBvYmplY3QgY29udGFpbmluZyB0aGUgaGVhZGVyIGVsZW1lbnRcclxuICAgIHZhciBoZWFkZXIgPSAkKFwiLm1haW5fZHJvcGRvd25cIik7XHJcbiAgICB2YXIgaGVhZGVyMSA9ICQoXCIuc2VydmljZV9kcm9wZG93blwiKTtcclxuICAgIHZhciBjdXJyUGF0aCA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZTsgLy8gR2V0cyB0aGUgY3VycmVudCBwYXRobmFtZSAoIC9fZGlzcGxheS8gKVxyXG4gICAgdmFyIHRvZ2dsZV9ib3R0b20gPSAgJCgnI2JvdHRvbV9fbmF2Jyk7XHJcblxyXG4gICAgaWYoY3VyclBhdGggPT0gJycpeyAvLyBDaGVja3MgaWYgdGhlIHBhdGhuYW1lIGVxdWFscyB0aGUgd2VicGFnZSB5b3Ugd2FudCB0aGUgc2lkZWJhciB0byBiZSBkaXNwbGF5ZWQgb25cclxuICAgICAgICBoZWFkZXIuc2hvdygpOyAvLyBTZXQgdGhlIHNpZGViYXIgdG8gdmlzaWJpbGl0eTogdmlzaWJsZSBhbmQgZGlzcGxheTogYmxvY2tcclxuICAgICAgICAkKHdpbmRvdykuc2Nyb2xsKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgc2Nyb2xsID0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHNjcm9sbCA+PSA0NTAgKSB7XHJcbiAgICAgICAgICAgICAgICBoZWFkZXIuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgaGVhZGVyMS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICB0b2dnbGVfYm90dG9tLmZhZGVJbig1MDApO1xyXG4gICAgICAgICAgICAgICAgaGVhZGVyLmFkZENsYXNzKCdmcm9tX3RvcCcpO1xyXG4gICAgICAgICAgICAgICAgaGVhZGVyMS5hZGRDbGFzcygnZnJvbV90b3AnKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGhlYWRlci5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICBoZWFkZXIxLnNob3coKTtcclxuICAgICAgICAgICAgICAgIHRvZ2dsZV9ib3R0b20uZmFkZU91dCg1MDApO1xyXG4gICAgICAgICAgICAgICAgaGVhZGVyLnJlbW92ZUNsYXNzKCdmcm9tX3RvcCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9ZWxzZSB7XHJcbiAgICAgICAgaGVhZGVyLmhpZGUoKTtcclxuICAgICAgICBoZWFkZXIxLmhpZGUoKTtcclxuICAgICAgICB0b2dnbGVfYm90dG9tLnNob3coKTtcclxuICAgICAgICBoZWFkZXIuYWRkQ2xhc3MoJ2Zyb21fdG9wJyk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgICQodGhpcykuc2Nyb2xsVG9wKDApO1xyXG5cclxuICAgIC8vIGhlYWRlci5oaWRlKCk7XHJcbiAgICAkKCcjdG9nZ2xlX2RkJykuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgICAgICAkKFwiLm1haW5fZHJvcGRvd25cIikudG9nZ2xlKCk7XHJcbiAgICAgICAgJChcIi5zZXJ2aWNlX2Ryb3Bkb3duXCIpLmhpZGUoKTtcclxuICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAkKFwiLnNlcnZpY2VfZHJvcGRvd25cIikucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgfSk7XHJcbiAgICAkKCcjdG9nZ2xlX2RkLTEnKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2FjdGl2ZScpXHJcbiAgICAgICAgJChcIi5tYWluX2Ryb3Bkb3duXCIpLmhpZGUoKTtcclxuICAgICAgICAkKFwiLm1haW5fZHJvcGRvd25cIikucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICQoXCIuc2VydmljZV9kcm9wZG93blwiKS50b2dnbGUoKTtcclxuICAgIH0pO1xyXG5cclxufSk7XHJcbi8vIG1vYmlsZSBzY3JlZW4gc2VhcmNoIGJveCBzY3JpcHQvL1xyXG4kKCcuc2VhcmNoX3RvZ2dsZXInKS5jbGljayhmdW5jdGlvbigpe1xyXG5cclxuICAgICQoJy5oaWRkZW4tc2VhcmNoJykuZmFkZUluKDUwMCk7XHJcblxyXG59KTtcclxuJCgnLmNsb3NlX3NlYXJjaCcpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgJCgnLmhpZGRlbi1zZWFyY2gnKS5mYWRlT3V0KDMwMCk7XHJcblxyXG59KTtcclxuXHJcbiQoZnVuY3Rpb24oKXtcclxuICAgIHZhciBoZWFkZXIgPSAkKFwiLm1haW5fZHJvcGRvd25cIik7XHJcblxyXG59KTtcclxuXHJcbi8vIHNjcmlwdCBmb3IgdGhlIHNob3cgZmlsdGVyXHJcbiQoJyNidG4tZmlsdGVyJykuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICAkKFwiLmxlZnQtLXNpZGVcIikuYWRkQ2xhc3MoXCJzaG93X2ZpbHRlclwiKTtcclxuICAgICQoJy5jYXQtb3ZlcmxheScpLnNob3coKTtcclxuICAgICQoJ2h0bWwnKS5hZGRDbGFzcyhcIm92ZXJmbG93X3h5XCIpO1xyXG4gICAgLy8gJChcIi5jYXRlZ29yeS1maWx0ZXJcIikuYXBwZW5kKCc8ZGl2IGNsYXNzPVwib3ZlcmxheVwiIGlkPVwiY2xpY2tfb3ZlcmxheVwiIHN0eWxlPVwib3BhY2l0eTogLjQ7dG9wOjBcIj48L2Rpdj4nKTtcclxufSk7XHJcbiQoJy5jYXQtb3ZlcmxheScpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICBjb25zb2xlLmxvZygnY2xpY2snKTtcclxuICAgICQodGhpcykuaGlkZSgpO1xyXG4gICAgJChcIi5sZWZ0LS1zaWRlXCIpLnJlbW92ZUNsYXNzKCdzaG93X2ZpbHRlcicpO1xyXG4gICAgJCgnaHRtbCcpLnJlbW92ZUNsYXNzKFwib3ZlcmZsb3dfeHlcIik7XHJcbn0pO1xyXG4kKCcuZG9uZS1maWx0ZXInKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgJChcIi5sZWZ0LS1zaWRlXCIpLnJlbW92ZUNsYXNzKCdzaG93X2ZpbHRlcicpO1xyXG4gICAgJCgnLmNhdC1vdmVybGF5JykuaGlkZSgpO1xyXG4gICAgJCgnaHRtbCcpLnJlbW92ZUNsYXNzKFwib3ZlcmZsb3dfeHlcIik7XHJcbn0pO1xyXG5cclxuXHJcbi8vc2NyaXB0IGZvciB0aGUgY2hlY2sgb3V0IHBhZ2VcclxuXHJcbi8valF1ZXJ5IHRpbWVcclxudmFyIGN1cnJlbnRfZnMsIG5leHRfZnMsIHByZXZpb3VzX2ZzOyAvL2ZpZWxkc2V0c1xyXG52YXIgbGVmdCwgb3BhY2l0eSwgc2NhbGU7IC8vZmllbGRzZXQgcHJvcGVydGllcyB3aGljaCB3ZSB3aWxsIGFuaW1hdGVcclxudmFyIGFuaW1hdGluZzsgLy9mbGFnIHRvIHByZXZlbnQgcXVpY2sgbXVsdGktY2xpY2sgZ2xpdGNoZXNcclxuXHJcbiQoXCIubmV4dFwiKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgLy8gaWYoYW5pbWF0aW5nKSByZXR1cm4gZmFsc2U7XHJcbiAgICAvLyBhbmltYXRpbmcgPSB0cnVlO1xyXG4gICAgLy8gY3VycmVudF9mcyA9ICQodGhpcykucGFyZW50KCkucGFyZW50KCkucGFyZW50KCkucGFyZW50KCkucGFyZW50KCk7XHJcbiAgICAvLyBuZXh0X2ZzID0gJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5wYXJlbnQoKS5wYXJlbnQoKS5wYXJlbnQoKS5uZXh0KCk7XHJcbiAgICBjdXJyZW50X2ZzID0gJCh0aGlzKS5wYXJlbnRzKCdmaWVsZHNldCcpO1xyXG4gICAgbmV4dF9mcz0kKHRoaXMpLnBhcmVudHMoJ2ZpZWxkc2V0JykubmV4dCgpO1xyXG5cclxuICAgIC8vYWN0aXZhdGUgbmV4dCBzdGVwIG9uIHByb2dyZXNzYmFyIHVzaW5nIHRoZSBpbmRleCBvZiBuZXh0X2ZzXHJcbiAgICAkKFwiI3Byb2dyZXNzYmFyIGxpXCIpLmVxKCQoXCJmaWVsZHNldFwiKS5pbmRleChuZXh0X2ZzKSkuYWRkQ2xhc3MoXCJhY3RpdmVseVwiKTtcclxuXHJcbiAgICAvL3Nob3cgdGhlIG5leHQgZmllbGRzZXRcclxuICAgIC8vIG5leHRfZnMuc2hvdygpO1xyXG4gICAgbmV4dF9mcy5kZWxheSgxMDApLmZhZGVJbig4MDApO1xyXG4gICAgY3VycmVudF9mcy5oaWRlKCk7XHJcbiAgICAkKHdpbmRvdykuc2Nyb2xsVG9wKDApO1xyXG5cclxufSk7XHJcblxyXG4kKFwiLnN1Ym1pdFwiKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59KTtcclxuXHJcbiQoJy50ZXJtcy1hbmQtY29uZGl0aW9ucy1saW5rJykub24oJ2NsaWNrJyxmdW5jdGlvbiAoKSB7XHJcbiAgICAkKCcudGVybXNjb25kaXRpb24nKS5mYWRlVG9nZ2xlKCk7XHJcbn0pO1xyXG5cclxuXHJcblxyXG5cclxuXHJcbi8vIGphdmFzY3JpcHQgZm9yIHRpbWUgbGFwc1xyXG52YXIgc2Vjb25kID0gMTAwMCxcclxuICAgIG1pbnV0ZSA9IHNlY29uZCAqIDYwLFxyXG4gICAgaG91ciA9IG1pbnV0ZSAqIDYwLFxyXG4gICAgZGF5ID0gaG91ciAqIDI0O1xyXG5cclxudmFyIGNvdW50RG93biA9IG5ldyBEYXRlKCdkZWNlbWJlciAxNSwgMjAxOSAwMDowMDowMCcpLmdldFRpbWUoKSxcclxuICAgIHggPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgdmFyIG5vdyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpLFxyXG4gICAgICAgICAgICBkaXN0YW5jZSA9IGNvdW50RG93biAtIG5vdztcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhkaXN0YW5jZSxub3cpO1xyXG4gICAgICAgIC8vIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYXlzJykuaW5uZXJUZXh0ID0gTWF0aC5mbG9vcihkaXN0YW5jZSAvIChkYXkpKTtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaG91cnMnKS5pbm5lclRleHQgPSBNYXRoLmZsb29yKChkaXN0YW5jZSAlIChkYXkpKSAvIChob3VyKSk7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21pbnV0ZXMnKS5pbm5lclRleHQgPSBNYXRoLmZsb29yKChkaXN0YW5jZSAlIChob3VyKSkgLyAobWludXRlKSk7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlY29uZHMnKS5pbm5lclRleHQgPSBNYXRoLmZsb29yKChkaXN0YW5jZSAlIChtaW51dGUpKSAvIHNlY29uZCk7XHJcblxyXG4gICAgfSwgc2Vjb25kKTtcclxuXHJcblxyXG5cclxuJCgnLmZlYXR1cmVfYnJhbmRfbGlzdCAnKS5vd2xDYXJvdXNlbCh7XHJcbiAgICBpdGVtczoxLFxyXG4gICAgbWFyZ2luOjEwLFxyXG4gICAgcGFnaW5hdGlvbjogZmFsc2UsXHJcbiAgICBhdXRvcGxheTogdHJ1ZSxcclxuICAgIGF1dG9QbGF5U3BlZWQ6IDUwMDAsXHJcbiAgICBhdXRvUGxheVRpbWVvdXQ6IDUwMDAsXHJcbiAgICBhdXRvcGxheUhvdmVyUGF1c2U6IHRydWUsXHJcbiAgICBzbWFydFNwZWVkOjEwMDAsXHJcbiAgICBuYXY6ZmFsc2UsXHJcbiAgICBsYXp5TG9hZDp0cnVlLFxyXG4gICAgbG9vcDpmYWxzZSxcclxuICAgIG5hdlJld2luZDpmYWxzZSxcclxuICAgIG5hdlRleHQgOiBbXCI8aSBjbGFzcz0nZmEgZmEtY2hldnJvbi1sZWZ0IGZhLTF4Jz48L2k+XCIsXCI8aSBjbGFzcz0nZmEgZmEtY2hldnJvbi1yaWdodCBmYS0xeCc+PC9pPlwiXSxcclxuICAgIGRvdHM6dHJ1ZSxcclxuICAgIHJlc3BvbnNpdmU6e1xyXG4gICAgICAgIDA6e1xyXG4gICAgICAgICAgICBpdGVtczoxXHJcbiAgICAgICAgfSxcclxuICAgICAgICAzMjA6e1xyXG4gICAgICAgICAgICBpdGVtczoxXHJcbiAgICAgICAgfSxcclxuICAgICAgICA2MDA6e1xyXG4gICAgICAgICAgICBpdGVtczoyXHJcbiAgICAgICAgfSxcclxuICAgICAgICAxMDAwOntcclxuICAgICAgICAgICAgaXRlbXM6M1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgMTMyODp7XHJcbiAgICAgICAgICAgIGl0ZW1zOjRcclxuICAgICAgICB9LFxyXG4gICAgICAgIDE0MDA6e1xyXG4gICAgICAgICAgICBpdGVtczo0XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59KTtcclxuXHJcblxyXG4kKCcuY29sLXRocmVlICcpLm93bENhcm91c2VsKHtcclxuICAgIGl0ZW1zOjEsXHJcbiAgICBtYXJnaW46MTAsXHJcbiAgICBwYWdpbmF0aW9uOiBmYWxzZSxcclxuICAgIHNtYXJ0U3BlZWQ6MTAwMCxcclxuICAgIG5hdjpmYWxzZSxcclxuICAgIGxhenlMb2FkOnRydWUsXHJcbiAgICBsb29wOmZhbHNlLFxyXG4gICAgbmF2UmV3aW5kOmZhbHNlLFxyXG4gICAgZG90czp0cnVlLFxyXG4gICAgYXV0b3BsYXk6IHRydWUsXHJcbiAgICBhdXRvUGxheVNwZWVkOiA1MDAwLFxyXG4gICAgYXV0b1BsYXlUaW1lb3V0OiA1MDAwLFxyXG4gICAgYXV0b3BsYXlIb3ZlclBhdXNlOiB0cnVlLFxyXG4gICAgcmVzcG9uc2l2ZTp7XHJcbiAgICAgICAgMDp7XHJcbiAgICAgICAgICAgIGl0ZW1zOjFcclxuICAgICAgICB9LFxyXG4gICAgICAgIDMyMDp7XHJcbiAgICAgICAgICAgIGl0ZW1zOjFcclxuICAgICAgICB9LFxyXG4gICAgICAgIDYwMDp7XHJcbiAgICAgICAgICAgIGl0ZW1zOjJcclxuICAgICAgICB9LFxyXG4gICAgICAgIDEwMDA6e1xyXG4gICAgICAgICAgICBpdGVtczozXHJcbiAgICAgICAgfSxcclxuICAgICAgICAxMzI4OntcclxuICAgICAgICAgICAgaXRlbXM6M1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgMTQwMDp7XHJcbiAgICAgICAgICAgIGl0ZW1zOjNcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuLy9qUXVlcnkgZm9yIGhpZGUgYW5kIHNob3cgdGhlIGNvbW1lbnRzIGluIHJldmlldyBzZWN0aW9uXHJcbiQoZnVuY3Rpb24oKSB7XHJcbiAgICAkKCdhcnRpY2xlLnJldmlld3MnKS5zbGljZSgwLDMpLnNob3coKTtcclxuICAgICQoJy5zaG93LW1vcmUnKS5vbignY2xpY2snLGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgJCgnYXJ0aWNsZTpoaWRkZW4nKS5zbGljZSgwLDMpLnNsaWRlRG93bigpO1xyXG4gICAgICAgIGlmKCQoJ2FydGljbGU6aGlkZGVuJykubGVuZ3RoID09PSAwKXtcclxuICAgICAgICAgICAgJCgnLnNob3ctbW9yZScpLmZhZGVPdXQoJ3Nsb3cnKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufSk7XHJcblxyXG5cclxuLy9qcXVlcnkgZm9yIHRoZSBwcmljZSByYW5nZSBzbGlkZXJcclxuJCggZnVuY3Rpb24oKSB7XHJcbiAgICAkKCBcIiNzbGlkZXItcmFuZ2VcIiApLnNsaWRlcih7XHJcbiAgICAgICAgcmFuZ2U6IHRydWUsXHJcbiAgICAgICAgbWluOiAxMDAsXHJcbiAgICAgICAgbWF4OiA1MDAwLFxyXG4gICAgICAgIHZhbHVlczogWyAxMDAsIDEwMDAgXSxcclxuICAgICAgICBzbGlkZTogZnVuY3Rpb24oIGV2ZW50LCB1aSApIHtcclxuICAgICAgICAgICAgJCggXCIjYW1vdW50XCIgKS52YWwoIFwiTWluIDogUnNcIiArIHVpLnZhbHVlc1sgMCBdICsgXCIgLSBNYXggOiBSc1wiICsgdWkudmFsdWVzWyAxIF0gKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgICQoIFwiI2Ftb3VudFwiICkudmFsKCBcIk1pbiA6IFJzXCIgKyAkKCBcIiNzbGlkZXItcmFuZ2VcIiApLnNsaWRlciggXCJ2YWx1ZXNcIiwgMCApICtcclxuICAgICAgICBcIiAtIE1heCA6IFJzXCIgKyAkKCBcIiNzbGlkZXItcmFuZ2VcIiApLnNsaWRlciggXCJ2YWx1ZXNcIiwgMSApICk7XHJcbn0pO1xyXG5cclxuLy9qcXVlciBmb3IgdGhlIGNhcnQgdXBkYXRlXHJcblxyXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcclxuXHJcbiAgICAvKiBTZXQgcmF0ZXMgKyBtaXNjICovXHJcbiAgICB2YXIgdGF4UmF0ZSA9IDAuMTU7XHJcbiAgICB2YXIgc2hpcHBpbmdSYXRlID0gMTUuMDA7XHJcbiAgICB2YXIgZmFkZVRpbWUgPSAzMDA7XHJcblxyXG5cclxuICAgIC8qIEFzc2lnbiBhY3Rpb25zICovXHJcbiAgICAkKCcucHJvZHVjdC1xdWFudGl0eSBpbnB1dCcpLmNoYW5nZSggZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdXBkYXRlUXVhbnRpdHkodGhpcyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKCcucHJvZHVjdC1yZW1vdmFsIGJ1dHRvbicpLmNsaWNrKCBmdW5jdGlvbigpIHtcclxuICAgICAgICByZW1vdmVJdGVtKHRoaXMpO1xyXG4gICAgfSk7XHJcblxyXG5cclxuICAgIC8qIFJlY2FsY3VsYXRlIGNhcnQgKi9cclxuICAgIGZ1bmN0aW9uIHJlY2FsY3VsYXRlQ2FydCgpXHJcbiAgICB7XHJcbiAgICAgICAgdmFyIHN1YnRvdGFsID0gMDtcclxuXHJcbiAgICAgICAgLyogU3VtIHVwIHJvdyB0b3RhbHMgKi9cclxuICAgICAgICAkKCcucHJvZHVjdCcpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzdWJ0b3RhbCArPSBwYXJzZUZsb2F0KCQodGhpcykuY2hpbGRyZW4oJy5wcm9kdWN0LWxpbmUtcHJpY2UnKS50ZXh0KCkpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvKiBDYWxjdWxhdGUgdG90YWxzICovXHJcbiAgICAgICAgdmFyIHRheCA9IHN1YnRvdGFsICogdGF4UmF0ZTtcclxuICAgICAgICB2YXIgc2hpcHBpbmcgPSAoc3VidG90YWwgPiAwID8gc2hpcHBpbmdSYXRlIDogMCk7XHJcbiAgICAgICAgdmFyIHRvdGFsID0gc3VidG90YWwgKyB0YXggKyBzaGlwcGluZztcclxuXHJcbiAgICAgICAgLyogVXBkYXRlIHRvdGFscyBkaXNwbGF5ICovXHJcbiAgICAgICAgJCgnLnRvdGFscy12YWx1ZScpLmZhZGVPdXQoZmFkZVRpbWUsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAkKCcjY2FydC1zdWJ0b3RhbCcpLmh0bWwoc3VidG90YWwudG9GaXhlZCgyKSk7XHJcbiAgICAgICAgICAgICQoJyNjYXJ0LXRheCcpLmh0bWwodGF4LnRvRml4ZWQoMikpO1xyXG4gICAgICAgICAgICAkKCcjY2FydC1zaGlwcGluZycpLmh0bWwoc2hpcHBpbmcudG9GaXhlZCgyKSk7XHJcbiAgICAgICAgICAgICQoJyNjYXJ0LXRvdGFsJykuaHRtbCh0b3RhbC50b0ZpeGVkKDIpKTtcclxuICAgICAgICAgICAgaWYodG90YWwgPT0gMCl7XHJcbiAgICAgICAgICAgICAgICAkKCcuY2hlY2tvdXQnKS5mYWRlT3V0KGZhZGVUaW1lKTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAkKCcuY2hlY2tvdXQnKS5mYWRlSW4oZmFkZVRpbWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICQoJy50b3RhbHMtdmFsdWUnKS5mYWRlSW4oZmFkZVRpbWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKiBVcGRhdGUgcXVhbnRpdHkgKi9cclxuICAgIGZ1bmN0aW9uIHVwZGF0ZVF1YW50aXR5KHF1YW50aXR5SW5wdXQpXHJcbiAgICB7XHJcbiAgICAgICAgLyogQ2FsY3VsYXRlIGxpbmUgcHJpY2UgKi9cclxuICAgICAgICB2YXIgcHJvZHVjdFJvdyA9ICQocXVhbnRpdHlJbnB1dCkucGFyZW50KCkucGFyZW50KCk7XHJcbiAgICAgICAgdmFyIHByaWNlID0gcGFyc2VGbG9hdChwcm9kdWN0Um93LmNoaWxkcmVuKCcucHJvZHVjdC1wcmljZScpLnRleHQoKSk7XHJcbiAgICAgICAgdmFyIHF1YW50aXR5ID0gJChxdWFudGl0eUlucHV0KS52YWwoKTtcclxuICAgICAgICB2YXIgbGluZVByaWNlID0gcHJpY2UgKiBxdWFudGl0eTtcclxuXHJcbiAgICAgICAgLyogVXBkYXRlIGxpbmUgcHJpY2UgZGlzcGxheSBhbmQgcmVjYWxjIGNhcnQgdG90YWxzICovXHJcbiAgICAgICAgcHJvZHVjdFJvdy5jaGlsZHJlbignLnByb2R1Y3QtbGluZS1wcmljZScpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkKHRoaXMpLmZhZGVPdXQoZmFkZVRpbWUsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS50ZXh0KGxpbmVQcmljZS50b0ZpeGVkKDIpKTtcclxuICAgICAgICAgICAgICAgIHJlY2FsY3VsYXRlQ2FydCgpO1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5mYWRlSW4oZmFkZVRpbWUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyogUmVtb3ZlIGl0ZW0gZnJvbSBjYXJ0ICovXHJcbiAgICBmdW5jdGlvbiByZW1vdmVJdGVtKHJlbW92ZUJ1dHRvbilcclxuICAgIHtcclxuICAgICAgICAvKiBSZW1vdmUgcm93IGZyb20gRE9NIGFuZCByZWNhbGMgY2FydCB0b3RhbCAqL1xyXG4gICAgICAgIHZhciBwcm9kdWN0Um93ID0gJChyZW1vdmVCdXR0b24pLnBhcmVudCgpLnBhcmVudCgpO1xyXG4gICAgICAgIHByb2R1Y3RSb3cuc2xpZGVVcChmYWRlVGltZSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHByb2R1Y3RSb3cucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIHJlY2FsY3VsYXRlQ2FydCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxufSk7XHJcbi8vIGxvZ2luIGZvcm0gY2hhbmdlXHJcbiQoZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgJCgnI2xvZ2luLWZvcm0tbGluaycpLmNsaWNrKGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAkKFwiI2xvZ2luLWZvcm0sIC5mb3JtLXRpdGxlLWluXCIpLmRlbGF5KDEwMCkuZmFkZUluKDEwMCk7XHJcbiAgICAgICAgJChcIiNyZWdpc3Rlci1mb3JtLCAuZm9ybS10aXRsZS11cFwiKS5mYWRlT3V0KDEwMCk7XHJcbiAgICAgICAgJCgnI3JlZ2lzdGVyLWZvcm0tbGluaycpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9KTtcclxuICAgICQoJyNyZWdpc3Rlci1mb3JtLWxpbmsnKS5jbGljayhmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgJChcIiNyZWdpc3Rlci1mb3JtICwgLmZvcm0tdGl0bGUtdXBcIikuZGVsYXkoMTAwKS5mYWRlSW4oMTAwKTtcclxuICAgICAgICAkKFwiI2xvZ2luLWZvcm0sIC5mb3JtLXRpdGxlLWluXCIpLmZhZGVPdXQoMTAwKTtcclxuICAgICAgICAkKCcjbG9naW4tZm9ybS1saW5rJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIH0pO1xyXG5cclxufSk7XHJcbi8vanF1ZXJ5IGZvciBtb2JpbGUgbWVudVxyXG5qUXVlcnkoJyNtZW51JykubWV0aXNNZW51KCkuc2hvdygpO1xyXG5cclxuXHJcblxyXG4vL3ZlbmRvciByZWdpc3RlcmF0aW9uIHNjcmlwdFxyXG5cclxuJCgnI3ZlbmRvci1jb250aW51ZScpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICAkKHRoaXMpLmhpZGUoKTtcclxuICAgICQoJy5kZXRhaWxGb3JtJykuc2hvdygzMDApO1xyXG4gICAgJCgnLnZlbmRvcnNpZ251cCcpLmhpZGUoKTtcclxufSk7XHJcbiQoJy5yZXR1cm5pbmctdmVuZG9yJykuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgICQoJy52ZW5kb3JzaWdudXAsI3ZlbmRvci1jb250aW51ZScpLnNob3coMzAwKTtcclxuICAgICQoXCIuZGV0YWlsRm9ybVwiKS5oaWRlKCk7XHJcbn0pO1xyXG5cclxuXHJcbiQoZnVuY3Rpb24gKCkge1xyXG4gICAgJCgnLm9wdGlvbl95ZXNfVkFUJykuaGlkZSgpO1xyXG5cclxuICAgIC8vc2hvdyBpdCB3aGVuIHRoZSBjaGVja2JveCBpcyBjbGlja2VkXHJcbiAgICAkKCdpbnB1dFtuYW1lPVwiY2hlY2tib3hcIl0nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCQodGhpcykucHJvcCgnY2hlY2tlZCcpKSB7XHJcbiAgICAgICAgICAgICQoJy5vcHRpb25feWVzX1ZBVCcpLmZhZGVJbigpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICQoJy5vcHRpb25feWVzX1ZBVCcpLmhpZGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufSk7XHJcblxyXG4vLy8qIGNhbGxpbmcgc2NyaXB0IGZvcm0gWHpvb20gKi8oZnVuY3Rpb24gKCQpIHtcclxuJCgnLmZvcmdvdHBhc3N3b3JkJykuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgICQodGhpcykuaGlkZSgpO1xyXG4gICAgJCgnLmZvcmdvdHBhc3Nvd3JkLWZvcm0nKS5zaG93KDMwMCk7XHJcbiAgICAkKFwiLmxvZ2luLWZvcm1cIikuaGlkZSgpO1xyXG59KTtcclxuJCgnLnJldHVybmluZy1jdXN0b21lcicpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICAkKCcuZm9yZ290cGFzc3dvcmQsLmxvZ2luLWZvcm0nKS5zaG93KDMwMCk7XHJcbiAgICAkKFwiLmZvcmdvdHBhc3Nvd3JkLWZvcm1cIikuaGlkZSgpO1xyXG59KTsiLCIvLyAoZnVuY3Rpb24oJCl7XHJcbi8vICAgICAkKCcjdGh1bWJjYXJvdXNlbCcpLmNhcm91c2VsKDApO1xyXG4vLyAgICAgdmFyICR0aHVtYkl0ZW1zID0gJCgnI3RodW1iY2Fyb3VzZWwgLml0ZW0nKTtcclxuLy8gICAgICQoJyNjYXJvdXNlbCcpLm9uKCdzbGlkZS5icy5jYXJvdXNlbCcsIGZ1bmN0aW9uIChldmVudCkge1xyXG4vLyAgICAgICAgIHZhciAkc2xpZGUgPSAkKGV2ZW50LnJlbGF0ZWRUYXJnZXQpO1xyXG4vLyAgICAgICAgIHZhciB0aHVtYkluZGV4ID0gJHNsaWRlLmRhdGEoJ3RodW1iJyk7XHJcbi8vICAgICAgICAgdmFyIGN1clRodW1iSW5kZXggPSAkdGh1bWJJdGVtcy5pbmRleCgkKCcjdGh1bWJjYXJvdXNlbCAuaXRlbS5hY3RpdmUnKS5nZXQoMCkpO1xyXG4vLyAgICAgICAgIGlmIChjdXJUaHVtYkluZGV4PnRodW1iSW5kZXgpIHtcclxuLy8gICAgICAgICAgICAgJCgnI3RodW1iY2Fyb3VzZWwnKS5vbmUoJ3NsaWQuYnMuY2Fyb3VzZWwnLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuLy8gICAgICAgICAgICAgICAgICQoJyN0aHVtYmNhcm91c2VsJykuY2Fyb3VzZWwodGh1bWJJbmRleCk7XHJcbi8vICAgICAgICAgICAgIH0pO1xyXG4vLyAgICAgICAgICAgICBpZiAoY3VyVGh1bWJJbmRleCA9PT0gKCR0aHVtYkl0ZW1zLmxlbmd0aC0xKSkge1xyXG4vLyAgICAgICAgICAgICAgICAgJCgnI3RodW1iY2Fyb3VzZWwnKS5jYXJvdXNlbCgnbmV4dCcpO1xyXG4vLyAgICAgICAgICAgICB9IGVsc2Uge1xyXG4vLyAgICAgICAgICAgICAgICAgJCgnI3RodW1iY2Fyb3VzZWwnKS5jYXJvdXNlbChudW1UaHVtYkl0ZW1zLTEpO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgfSBlbHNlIHtcclxuLy8gICAgICAgICAgICAgJCgnI3RodW1iY2Fyb3VzZWwnKS5jYXJvdXNlbCh0aHVtYkluZGV4KTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9KTtcclxuLy8gfSkoalF1ZXJ5KTtcclxuLy9cclxuLy9cclxuLy9cclxuLy9cclxuIl19
